<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./Css/PaymentPage.css">
    <script src="Scripts/Payment.js"></script>
    <title>Hanami Hospital - Payment</title>   
</head>
<body>
    <div class="background"></div>
    <header class="header">
        <h1>Hanami Hospital</h1>
    </header>
    <div class="content">
        <p>Please fill in your details:</p>
        <form action="ClarificationPage.html" method="get" onsubmit="return passPaymentMethod();">
            <label>First Name:</label>
            <input type="text" name="first-name" required><br>
            
            <label>Last Name:</label>
            <input type="text" name="last-name" required><br>
            
            <label>Email Address:</label>
            <input type="email" name="email" required><br>
            
            <label>Contact Number:</label>
            <input type="text" name="contact-number" required><br>
            
            <label>Address:</label>
            <input type="text" name="address" required><br>
            
            <label>Emergency Contact Name:</label>
            <input type="text" name="emergency-contact-name" required><br>
            
            <label>Emergency Contact Phone:</label>
            <input type="text" name="emergency-contact-phone" required><br>
            
            <label>Blood Type:</label>
            <input type="text" name="blood-type" required><br>
            
            <label>Gender:</label>
            <select name="gender" required>
                <option value="male">Male</option>
                <option value="female">Female</option>
                <option value="other">Other</option>
            </select><br>
            
            <label>Birthdate:</label>
            <input type="date" name="birthdate" required><br>

            <!-- New fields -->
            <label>Disease:</label>
            <input type="text" name="disease" required><br>

            <label>Date of Reservation:</label>
            <input type="date" name="reservation-date" required><br>
            
            <p>Please select your payment method:</p>
            <input type="radio" id="credit-card" name="payment-method" value="credit-card" onclick="showPaymentFields()">
            <label for="credit-card">Credit Card</label><br>
            
            <input type="radio" id="paypal" name="payment-method" value="paypal" onclick="showPaymentFields()">
            <label for="paypal">PayPal</label><br>
            
            <input type="radio" id="bank-transfer" name="payment-method" value="bank-transfer" onclick="showPaymentFields()">
            <label for="bank-transfer">Bank Transfer</label><br>
            
            <input type="radio" id="cash" name="payment-method" value="cash" onclick="showPaymentFields()">
            <label for="cash">Cash</label><br>

            <div id="payment-details"></div>
            
            <footer class="footer">
                <a href="MainPage.html">
                    <button type="button" class="my-button">Back</button>
                </a>
                <button type="submit" class="my-button">Proceed</button>
            </footer>
        </form>
        <script>
        function showPaymentFields() {
            let selectedMethod = document.querySelector('input[name="payment-method"]:checked');
            let paymentDetails = document.getElementById("payment-details");
            paymentDetails.innerHTML = "";
            if (!selectedMethod) return;
            
            if (selectedMethod.value === "credit-card") {
                paymentDetails.innerHTML = `
                    <label>Card Number:</label>
                    <input type="text" name="card-number" required><br>
                    <label>Expiration Date:</label>
                    <input type="text" name="expiration-date" required><br>
                    <label>CVV:</label>
                    <input type="text" name="cvv" required><br>
                `;
            } else if (selectedMethod.value === "paypal") {
                paymentDetails.innerHTML = `
                    <label>PayPal Email:</label>
                    <input type="email" name="paypal-email" required><br>
                `;
            } else if (selectedMethod.value === "bank-transfer") {
                paymentDetails.innerHTML = `
                    <label>Bank Account Number:</label>
                    <input type="text" name="bank-account" required><br>
                    <label>Bank Name:</label>
                    <input type="text" name="bank-name" required><br>
                `;
            }
        }
        
        function passPaymentMethod() {
            let selectedMethod = document.querySelector('input[name="payment-method"]:checked');
            if (!selectedMethod) {
                alert("Please select a payment method.");
                return false;
            }
            let selectedValue = selectedMethod.value;
            let form = document.querySelector("form");
            form.action = "ClarificationPage.html?payment-method=" + encodeURIComponent(selectedValue);
            return true;
        }
        </script>
    </div>
</body>
</html>
